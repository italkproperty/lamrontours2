{"version":3,"sources":["../../../../app/%28site%29/blog/packages-insights/page.tsx"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nexport const metadata = {\n  title: 'Tour Packages Insights — Lamron Tours',\n  description: 'In-depth analysis of tour packages, pricing and product opportunities.',\n};\n\ntype ParsedBlock = {\n  title?: string | null;\n  content?: string[];\n};\n\ntype PackageGroup = {\n  name: string | null;\n  details: string[];\n};\n\nexport default function PackagesInsightsPage() {\n  const p = path.join(process.cwd(), 'data', 'parsed', 'Packages  2.json');\n  let blocks: ParsedBlock[] = [];\n  try {\n    blocks = JSON.parse(fs.readFileSync(p, 'utf8')) as ParsedBlock[];\n  } catch (e) {\n    blocks = [{ title: null, content: ['Error reading parsed packages'] }];\n  }\n\n  // Group packages by detected title lines — simple heuristic: title entries followed by Duration/Accommodation\n  const packages: PackageGroup[] = [];\n  let current: PackageGroup | null = null;\n  for (const b of blocks) {\n    const titleLower = (b.title || '').toLowerCase();\n    if (b.title && !titleLower.includes('duration') && !titleLower.includes('accommodation') && !titleLower.includes('activities')) {\n      if (current) packages.push(current);\n      current = { name: b.title, details: [] };\n    } else if (current) {\n      // ensure content is an array of strings\n      const items = Array.isArray(b.content) ? b.content.map(String) : [];\n      current.details.push(...items);\n    }\n  }\n  if (current) packages.push(current);\n\n  return (\n    <main className=\"section-container py-12\">\n      <header className=\"text-center mb-8\">\n        <h1 className=\"text-4xl font-bold\">Package Insights</h1>\n        <p className=\"text-gray-600 mt-2\">Key takeaways from your package list and suggested optimizations.</p>\n      </header>\n\n      <section className=\"max-w-5xl mx-auto grid gap-6\">\n        {packages.slice(0, 12).map((pkg, idx) => (\n          <article key={idx} className=\"bg-white rounded-lg shadow p-6\">\n            <h2 className=\"text-xl font-semibold mb-2\">{pkg.name}</h2>\n            <p className=\"text-gray-700 mb-2\">{(pkg.details || []).slice(0,3).join(' • ')}</p>\n            <p className=\"text-sm text-gray-500\">Suggested action: add high-quality hero image, fill itinerary with day-by-day activities, and include user reviews.</p>\n          </article>\n        ))}\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":"saAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAiBe,SAAS,IACtB,IAAM,EAAI,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,OAAQ,SAAU,oBACjD,EAAwB,EAAE,CAC9B,GAAI,CACF,EAAS,KAAK,KAAK,CAAC,EAAA,OAAE,CAAC,YAAY,CAAC,EAAG,QACzC,CAAE,MAAO,EAAG,CACV,EAAS,CAAC,CAAE,MAAO,KAAM,QAAS,CAAC,gCAAgC,AAAC,EAAE,AACxE,CAGA,IAAM,EAA2B,EAAE,CAC/B,EAA+B,KACnC,IAAK,IAAM,KAAK,EAAQ,CACtB,IAAM,EAAa,CAAC,EAAE,KAAK,EAAI,EAAA,CAAE,CAAE,WAAW,GAC9C,IAAI,EAAE,KAAK,EAAK,EAAW,AAAZ,QAAoB,CAAC,aAAgB,EAAD,AAAY,QAAQ,CAAC,kBAAqB,EAAD,AAAY,QAAQ,CAAC,eAAe,AAGzH,GAAI,EAAS,CAElB,IAAM,EAAQ,MAAM,OAAO,CAAC,EAAE,OAAO,EAAI,EAAE,OAAO,CAAC,GAAG,CAAC,QAAU,EAAE,CACnE,EAAQ,OAAO,CAAC,IAAI,IAAI,GAC1B,MANM,GAAS,EAAS,IAAI,CAAC,GAC3B,EAAU,CAAE,KAAM,EAAE,KAAK,CAAE,QAAS,EAAE,AAAC,CAM3C,CAGA,OAFI,GAAS,EAAS,IAAI,CAAC,GAGzB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oCACd,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,6BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,qBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,yEAGpC,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,wCAChB,EAAS,KAAK,CAAC,EAAG,IAAI,GAAG,CAAC,CAAC,EAAK,IAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAkB,UAAU,2CAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA8B,EAAI,IAAI,GACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,CAAC,EAAI,OAAO,EAAI,EAAA,AAAE,EAAE,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,SACvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,0HAHzB,QASxB,mCA1DwB,CACtB,MAAO,wCACP,YAAa,wEACf"}