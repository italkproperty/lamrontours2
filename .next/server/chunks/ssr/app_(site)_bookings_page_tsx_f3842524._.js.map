{"version":3,"sources":["../../../../app/%28site%29/bookings/page.tsx"],"sourcesContent":["'use client';\n\nexport const dynamic = 'force-dynamic';\n\nimport { useState, useEffect, useRef } from 'react';\nimport Link from 'next/link';\n\nexport default function BookingsPage() {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    tourId: '',\n    tourName: '',\n    date: '',\n    guests: '1',\n    specialRequests: '',\n  });\n\n  const [submitted, setSubmitted] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const formRef = useRef<HTMLFormElement>(null);\n  const successRef = useRef<HTMLDivElement>(null);\n\n  const tours = [\n    { id: '1', name: 'Dune Desert Adventure' },\n    { id: '2', name: 'Etosha Wildlife Safari' },\n    { id: '3', name: 'Skeleton Coast Expedition' },\n    { id: '4', name: 'Fish River Canyon Hiking' },\n    { id: '5', name: 'Damaraland Cultural Tour' },\n    { id: '6', name: 'Swakopmund Adventure' },\n  ];\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n      ...(name === 'tourId' && {\n        tourName: tours.find((t) => t.id === value)?.name || '',\n      }),\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await fetch('/api/bookings', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to submit booking');\n      }\n\n      setSubmitted(true);\n      setFormData({\n        name: '',\n        email: '',\n        phone: '',\n        tourId: '',\n        tourName: '',\n        date: '',\n        guests: '1',\n        specialRequests: '',\n      });\n\n      // Scroll to success message\n      if (formRef.current) {\n        formRef.current.scrollIntoView({ behavior: 'smooth' });\n      }\n    } catch (err) {\n      setError('An error occurred while submitting your booking. Please try again.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* Hero */}\n      <section className=\"bg-gradient-to-r from-amber-600 to-orange-600 text-white py-12\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h1 className=\"text-5xl font-bold mb-4\">Book Your Adventure</h1>\n          <p className=\"text-xl text-amber-50\">Secure your spot on the tour of a lifetime</p>\n        </div>\n      </section>\n\n      {/* Booking Form */}\n      <section className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n        {submitted ? (\n          <div className=\"bg-green-50 border-2 border-green-500 rounded-lg p-12 text-center\" ref={successRef}>\n            <div className=\"text-6xl mb-4\">‚úì</div>\n            <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">Booking Submitted!</h2>\n            <p className=\"text-xl text-gray-700 mb-8\">\n              Thank you for booking with Lamron Tours. We'll contact you shortly to confirm your booking and answer any questions.\n            </p>\n            <button\n              onClick={() => setSubmitted(false)}\n              className=\"btn-primary inline-block mb-4\"\n            >\n              Make Another Booking\n            </button>\n            <p className=\"text-gray-600\">or</p>\n            <Link href=\"/tours\" className=\"text-amber-600 font-semibold hover:text-amber-700 mt-4 inline-block\">\n              Browse More Tours ‚Üí\n            </Link>\n          </div>\n        ) : (\n          <form ref={formRef} onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow-xl p-8\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-8\">Booking Details</h2>\n\n            {error && (\n              <div className=\"bg-red-50 border-2 border-red-500 rounded-lg p-4 mb-6\">\n                <p className=\"text-red-700\">{error}</p>\n              </div>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n              {/* Name */}\n              <div>\n                <label className=\"block text-gray-700 font-semibold mb-2\">Full Name *</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                  placeholder=\"John Doe\"\n                />\n              </div>\n\n              {/* Email */}\n              <div>\n                <label className=\"block text-gray-700 font-semibold mb-2\">Email Address *</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                  placeholder=\"john@example.com\"\n                />\n              </div>\n\n              {/* Phone */}\n              <div>\n                <label className=\"block text-gray-700 font-semibold mb-2\">Phone Number *</label>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={formData.phone}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                  placeholder=\"+1 (555) 000-0000\"\n                />\n              </div>\n\n              {/* Tour Selection */}\n              <div>\n                <label className=\"block text-gray-700 font-semibold mb-2\">Select Tour *</label>\n                <select\n                  name=\"tourId\"\n                  value={formData.tourId}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                >\n                  <option value=\"\">Choose a tour...</option>\n                  {tours.map((tour) => (\n                    <option key={tour.id} value={tour.id}>\n                      {tour.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Date */}\n              <div>\n                <label className=\"block text-gray-700 font-semibold mb-2\">Preferred Travel Date *</label>\n                <input\n                  type=\"date\"\n                  name=\"date\"\n                  value={formData.date}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                />\n              </div>\n\n              {/* Guests */}\n              <div>\n                <label className=\"block text-gray-700 font-semibold mb-2\">Number of Guests *</label>\n                <input\n                  type=\"number\"\n                  name=\"guests\"\n                  value={formData.guests}\n                  onChange={handleInputChange}\n                  required\n                  min=\"1\"\n                  max=\"20\"\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                />\n              </div>\n            </div>\n\n            {/* Special Requests */}\n            <div className=\"mb-6\">\n              <label className=\"block text-gray-700 font-semibold mb-2\">Special Requests</label>\n              <textarea\n                name=\"specialRequests\"\n                value={formData.specialRequests}\n                onChange={handleInputChange}\n                rows={4}\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-amber-600\"\n                placeholder=\"Any dietary requirements, accessibility needs, or special requests...\"\n              ></textarea>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Submitting...' : 'Complete Booking'}\n            </button>\n\n            <p className=\"text-sm text-gray-600 text-center mt-4\">\n              We'll contact you within 24 hours to confirm your booking\n            </p>\n          </form>\n        )}\n\n        {/* Additional Info */}\n        <div className=\"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div className=\"bg-amber-50 rounded-lg p-6\">\n            <div className=\"text-4xl mb-4\">üìÖ</div>\n            <h3 className=\"font-bold text-lg text-gray-900 mb-2\">Flexible Dates</h3>\n            <p className=\"text-gray-700\">Available year-round. We can accommodate custom dates.</p>\n          </div>\n          <div className=\"bg-amber-50 rounded-lg p-6\">\n            <div className=\"text-4xl mb-4\">üí∞</div>\n            <h3 className=\"font-bold text-lg text-gray-900 mb-2\">Transparent Pricing</h3>\n            <p className=\"text-gray-700\">All prices include accommodation, meals, and transportation.</p>\n          </div>\n          <div className=\"bg-amber-50 rounded-lg p-6\">\n            <div className=\"text-4xl mb-4\">‚ùì</div>\n            <h3 className=\"font-bold text-lg text-gray-900 mb-2\">Need Help?</h3>\n            <p className=\"text-gray-700\">\n              <Link href=\"/contact\" className=\"text-amber-600 font-semibold hover:text-amber-700\">\n                Contact our team ‚Üí\n              </Link>\n            </p>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}